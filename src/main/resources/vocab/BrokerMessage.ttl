@prefix idsv: <http://industrialdataspace.org/2016/10/idsv/core#> .
@prefix idsv_top: <http://industrialdataspace.org/2016/10/idsv/topics#> .
@prefix idsv_std: <http://industrialdataspace.org/2016/10/idsv/standards#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix dct: <http://purl.org/dc/terms/> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix prov: <http://www.w3.org/ns/prov#> .
@prefix vcard: <http://www.w3.org/2006/vcard/ns#> .
@prefix foaf: <http://xmlns.com/foaf/0.1/> .
@prefix odrl: <http://www.w3.org/ns/odrl/2/> .
@prefix org: <http://www.w3.org/ns/org#> .
@prefix gn: <http://www.geonames.org/ontology#> .
@prefix dcat: <http://www.w3.org/ns/dcat#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix dqv: <http://www.w3.org/ns/dqv#> .
@prefix time: <http://www.w3.org/2006/time#> .
@prefix locn: <http://www.w3.org/ns/locn#> .
@prefix skos: <http://www.w3.org/2004/02/skos/core#> .

@prefix valid: <http://industrialdataspace.org/2017/01/idsv/validation#> .

# Message Classes for interaction with a Broker
# ---------------------------------------------

idsv:BrokerMessage a owl:Class;
    rdfs:label "BrokerMessage"@en ;
    rdfs:comment "The class of all messages to interact with a Broker.";
    idsv:validation [
        owl:onProperty idsv:payload;
        valid:constraint "@javax.validation.constraints.NotNull";
    ].

idsv:BrokerDataMessage a owl:Class;
    rdfs:subClassOf idsv:BrokerMessage;
    rdfs:label "BrokerDataMessage"@en ;
    rdfs:comment "The class of all messages intended for data transfer to/from a Broker.".

idsv:BrokerQueryMessage a owl:Class;
    rdfs:subClassOf idsv:BrokerMessage;
    rdfs:label "BrokerQueryMessage"@en ;
    rdfs:comment "The class of all messages that query the broker for data.";
    idsv:validation [
        owl:onProperty idsv:queryScope;
        valid:constraint "@javax.validation.constraints.NotNull";
    ].

idsv:BrokerRequestMessage a owl:Class;
    rdfs:subClassOf idsv:BrokerMessage;
    rdfs:label "BrokerRequestMessage"@en ;
    rdfs:comment "The class of all messages that represent requests to a Broker.".

idsv:BrokerResponseMessage a owl:Class;
    rdfs:subClassOf idsv:BrokerMessage;
    rdfs:label "BrokerResponseMessage"@en ;
    rdfs:comment "The class of all messages that represent responses of a Broker.";
    idsv:validation [
        owl:onProperty idsv:correlationId;
        valid:constraint "@javax.validation.constraints.NotNull";
    ];
    idsv:validation [
        owl:onProperty idsv:mediaType;
        valid:constraint "@org.hibernate.validator.constraints.URL";
    ].

idsv:BrokerDataRequest a owl:Class;
    rdfs:subClassOf idsv:BrokerDataMessage;
    rdfs:subClassOf idsv:BrokerRequestMessage;
    rdfs:label "BrokerDataRequest"@en ;
    rdfs:comment "The class of all messages that represent data requests to a Broker.";
    idsv:validation [
        owl:onProperty idsv:dataRequestAction;
        valid:constraint "@javax.validation.constraints.NotNull";
    ];
    idsv:validation [
        owl:onProperty idsv:coveredEntity;
        valid:constraint "@javax.validation.constraints.NotNull";
    ].

idsv:BrokerDataResponse a owl:Class;
    rdfs:subClassOf idsv:BrokerDataMessage;
    rdfs:subClassOf idsv:BrokerResponseMessage;
    rdfs:label "BrokerDataResponse"@en ;
    rdfs:comment "The class of all messages that represent data responses of a Broker.".

idsv:BrokerQueryRequest a owl:Class;
    rdfs:subClassOf idsv:BrokerRequestMessage;
    rdfs:subClassOf idsv:BrokerQueryMessage;
    rdfs:label "BrokerQueryRequest"@en ;
    rdfs:comment "The class of all messages that represent query requests to a Broker.";
    idsv:validation [
        owl:onProperty idsv:queryRequestAction;
        valid:constraint "@javax.validation.constraints.NotNull";
    ];
    idsv:validation [
        owl:onProperty idsv:queryScope;
        valid:constraint "@javax.validation.constraints.NotNull";
    ].

idsv:BrokerQueryResponse a owl:Class;
    rdfs:subClassOf idsv:BrokerQueryMessage;
    rdfs:subClassOf idsv:BrokerResponseMessage;
    rdfs:label "BrokerQueryResponse"@en ;
    rdfs:comment "The class of all messages that represent a Broker's response to a query.".

# Classes with a fixed set of instances
# -------------------------------------

idsv:BrokerDataRequestAction a owl:Class;
    rdfs:label "BrokerDataRequestAction"@en ;
    rdfs:comment "The class of all actions that can be issued to a broker in a data request message.".

idsv:BrokerDataRegisterAction a idsv:BrokerDataRequestAction;
    rdfs:label "REGISTER"@en.

idsv:BrokerDataUpdateAction a idsv:BrokerDataRequestAction;
    rdfs:label "UPDATE"@en.

idsv:BrokerDataPassivateAction a idsv:BrokerDataRequestAction;
    rdfs:label "PASSIVATE"@en.

idsv:BrokerDataActivateAction a idsv:BrokerDataRequestAction;
    rdfs:label "ACTIVATE"@en.

idsv:BrokerDataRemoveAction a idsv:BrokerDataRequestAction;
    rdfs:label "REMOVE"@en.

idsv:BrokerQueryRequestAction a owl:Class;
    rdfs:label "BrokerQueryRequestAction"@en ;
    rdfs:comment "The class of all actions that can be issued to a broker in a query message.".

idsv:BrokerQueryGetAction a idsv:BrokerQueryRequestAction;
    rdfs:label "GET"@en.

idsv:BrokerQueryListAction a idsv:BrokerQueryRequestAction;
    rdfs:label "LIST"@en.

idsv:BrokerQueryMessageScope a owl:Class;
    rdfs:label "BrokerQueryMessageScope"@en ;
    rdfs:comment "The class of scopes that filter datasets by their states when queried.".

idsv:BrokerQueryMessageScopeAll a idsv:BrokerQueryMessageScope;
    rdfs:label "ALL"@en.

idsv:BrokerQueryMessageScopeActive a idsv:BrokerQueryMessageScope;
    rdfs:label "ACTIVE"@en.

idsv:BrokerQueryMessageScopeAccess a idsv:BrokerQueryMessageScope;
    rdfs:label "ACCESS"@en.

idsv:EntityCoveredByDataRequest a owl:Class;
    rdfs:label "CoveredComponent"@en ;
    rdfs:comment "The class of IDS entities that are described in a BrokerDataRequest message.".

idsv:CoveredParticipant a idsv:EntityCoveredByDataRequest;
    rdfs:label "PARTICIPANT"@en.

idsv:CoveredConnector a idsv:EntityCoveredByDataRequest;
    rdfs:label "CONNECTOR"@en.

idsv:CoveredDataEndpoint a idsv:EntityCoveredByDataRequest;
    rdfs:label "DATA_ENDPOINT"@en.

# Properties for describing BrokerMessages
# ----------------------------------------

idsv:dataRequestAction a owl:ObjectProperty;
    rdfs:label "dataRequestAction";
    rdfs:domain idsv:BrokerDataRequest;
    rdfs:range idsv:BrokerDataRequestAction;
    rdfs:comment "The action that should be performed with the message's payload data at the Broker."@en.

idsv:queryRequestAction a owl:ObjectProperty;
    rdfs:label "queryRequestAction";
    rdfs:domain idsv:BrokerQueryRequest;
    rdfs:range idsv:BrokerQueryRequestAction;
    rdfs:comment "The action that should be performed by the query."@en.

idsv:coveredEntity a owl:ObjectProperty;
    rdfs:label "coveredEntity";
    rdfs:domain idsv:BrokerDataRequest;
    rdfs:range idsv:EntityCoveredByDataRequest;
    rdfs:comment "The IDS entity covered in the data request."@en.

idsv:payload a owl:DatatypeProperty;
    rdfs:label "payload";
    rdfs:domain idsv:BrokerMessage;
    rdfs:range xsd:string;
    rdfs:comment "The message's payload data."@en.

idsv:correlationId a owl:DatatypeProperty;
    rdfs:label "correlationId";
    rdfs:domain idsv:BrokerResponseMessage;
    rdfs:range xsd:anyURI;
    rdfs:comment "The unique ID of the source request which is referred to by a response message."@en.

idsv:queryScope a owl:ObjectProperty;
    rdfs:label "queryScope";
    rdfs:domain idsv:BrokerQueryMessage;
    rdfs:range idsv:BrokerQueryMessageScope;
    rdfs:comment "The scope of a query defined in a query message."@en.