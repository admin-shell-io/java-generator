@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix credential: <http://www.daml.org/services/owl-s/security/credential.owl#> .

@prefix ids: <http://industrialdataspace.org/2016/10/ids/core#> .
@prefix valid: <http://industrialdataspace.org/2017/01/ids/validation#> .

# Classes
# -------

ids:DataTransfer
	a owl:Class;
	rdfs:label "DataTransfer"@en;
	rdfs:comment "The class of resources that describe a data transfer on the IDS."@en;
    ids:validation [
        owl:onProperty ids:customProperty;
        valid:relationType "@OneToMany";
    ];
    ids:validation [
        owl:onProperty ids:sender;
        valid:constraint "@javax.validation.constraints.NotNull";
    ];
    ids:validation [
        owl:onProperty ids:receiver;
        valid:constraint "@javax.validation.constraints.NotNull";
    ];
    ids:validation [
        owl:onProperty ids:transferCreatedAt;
        valid:constraint "@javax.validation.constraints.NotNull";
    ].

ids:TransferAttribute
	a owl:Class;
	rdfs:label "TransferAttribute"@en;
	rdfs:comment "General attribute for additional description of security aspects of a data transfer."@en;
    ids:validation [
        owl:onProperty ids:transferAttributeKey;
        valid:constraint "@javax.validation.constraints.NotNull";
    ];
    ids:validation [
        owl:onProperty ids:transferAttributeValue;
        valid:constraint "@javax.validation.constraints.NotNull";
    ].

ids:AuthToken rdfs:subClassOf credential:SimpleCredential;
	a owl:Class;
	rdfs:label "AuthToken"@en;
	rdfs:comment "Authorization Token."@en;
    ids:validation [
        owl:onProperty ids:tokenValue;
        valid:constraint "@javax.validation.constraints.NotNull";
    ].

# Properties
# ----------

ids:sender
	a owl:DatatypeProperty;
	rdfs:label "sender"@en;
	rdfs:domain ids:DataTransfer;
	rdfs:range xsd:anyURI;
	rdfs:comment "The sender of the message."@en.

ids:receiver
	a owl:DatatypeProperty;
	rdfs:label "receiver"@en;
	rdfs:domain ids:DataTransfer;
	rdfs:range xsd:anyURI;
	rdfs:comment "The receiver of the message."@en.

ids:authToken
	a owl:ObjectProperty;
	rdfs:label "authToken"@en;
	rdfs:domain ids:DataTransfer;
	rdfs:range ids:AuthToken;
	rdfs:comment "An authorization token like JSON Web Token."@en.

ids:payloadDigest
	a owl:DatatypeProperty;
	rdfs:label "digest"@en;
	rdfs:domain ids:DataTransfer;
	rdfs:range xsd:base64Binary;
	rdfs:comment "The digest of the dataset being transfered."@en.

ids:customAttribute
	a owl:ObjectProperty;
	rdfs:label "customAttribute"@en;
	rdfs:domain ids:DataTransfer;
	rdfs:range ids:TransferAttribute;
	rdfs:comment "Additional attributes that can be specified for a DataTransfer."@en.

ids:tokenValue a owl:DatatypeProperty;
	rdfs:label "tokenValue"@en;
	rdfs:domain ids:AuthToken;
	rdfs:range xsd:string;
	rdfs:comment "An authorization token value like JSON Web Token."@en.

ids:transferAttributeKey a owl:DatatypeProperty;
	rdfs:label "transferAttributeKey"@en;
	rdfs:domain ids:TransferProperty;
	rdfs:range xsd:string.

ids:transferAttributeValue a owl:DatatypeProperty;
	rdfs:label "transferAttributeValue"@en;
	rdfs:domain ids:TransferProperty;
	rdfs:range xsd:string.

ids:transferCreatedAt rdfs:subPropertyOf dct:dateSubmitted;
    a owl:DatatypeProperty;
    rdfs:label "transferCreatedAt"@en;
    rdfs:domain ids:DataTransfer;
    rdfs:range xsd:dateTime;
    rdfs:comment "Date of creation of the DataTransfer."@en.
